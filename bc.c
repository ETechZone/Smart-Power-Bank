/* 
************************* C file for OLED display*****************************
*/
//
//##############################################################
//       File Name : bc.c
//       
//       TITLE     : Sh1106 oled with c2000(F28027)
//       
//       Development Kit : LAUNCHXL F28027
// 
//       Date Of Created : 16/05/2019 
//###############################################################
//
// Included Files
//
#include<icon.h>
#include<bc.h>

union Screen bc_src;
//
//
//*********************************************************************************************
//Function Name    : Uint8 Get_BC_Screen_val()
//No.Of Parameters : 0
//Parameters Type  : NA
//Return Type      : Uint8
//Description      : To Get status of 
//**********************************************************************************************
//
Uint8 Get_BC_Screen_val(){
	return bc_src.status;
}

//
//
//*********************************************************************************************
//Function Name    : void BC_ScreenInit(Uint8 i)
//No.Of Parameters : 1
//Parameters Type  : Uint8
//Return Type      : void
//Description      : To initialize BR Screen status of screen
//**********************************************************************************************
//       
void BC_ScreenInit(){
	bc_src.status=0x00;
}

//
//*********************************************************************************************
//Function Name    : void BC_UP_update()
//No.Of Parameters : 1
//Parameters Type  : Uint8
//Return Type      : void
//Description      : To Update BR status of screen
//**********************************************************************************************
// 
void BC_UP_update(){
    Uint8 i;
    i=Get_BC_Screen_val();
    i--;
    if(Get_BC_Screen_val()!=0x00)
	bc_src.status=i;
}
//
//*********************************************************************************************
//Function Name    : BC_DOWN_update()
//No.Of Parameters : 1
//Parameters Type  : Uint8
//Return Type      : void
//Description      : To Update BR status of screen
//**********************************************************************************************
//
void BC_DOWN_update(){
    Uint8 i;
    i=Get_BC_Screen_val();
    i++;
    if(Get_BC_Screen_val()!=0x03)
    bc_src.status=i;
}
//
//*********************************************************************************************
//Function Name    : void bc_main(unsigned int i)
//No.Of Parameters : 1
//Parameters Type  : unsigned int
//Return Type      : void
//Description      : To get bitmap of the BR bitmap
//**********************************************************************************************
//
void bc_main(unsigned int i){
	Uint8 j;
const Uint8 bc_main_bitmap[256]={
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x1F, 0xDF, 0xDF,
0x3F, 0xFF, 0x3F, 0xDF, 0xDF, 0x3F, 0xFF, 0xDF, 0xDF, 0x1F, 0xDF, 0xDF, 0xFF, 0xDF, 0xDF, 0x1F,
0xDF, 0xDF, 0xFF, 0x1F, 0xDF, 0xDF, 0xDF, 0xFF, 0x1F, 0xDF, 0xDF, 0x3F, 0xFF, 0x1F, 0xFF, 0xFF,
0xFF, 0x1F, 0xFF, 0xFF, 0xFF, 0xFF, 0x3F, 0xDF, 0xDF, 0xDF, 0xFF, 0x1F, 0xFF, 0xFF, 0xFF, 0x1F,
0xFF, 0x3F, 0xDF, 0xDF, 0xDF, 0xFF, 0x1F, 0xFF, 0xFF, 0xFF, 0xFF, 0x1F, 0xDF, 0xDF, 0xDF, 0xFF,
0x3F, 0xDF, 0xDF, 0xBF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xF0, 0xF6, 0xF6,
0xF9, 0xFF, 0xF0, 0xFE, 0xFE, 0xF0, 0xFF, 0xFF, 0xFF, 0xF0, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xF0,
0xFF, 0xFF, 0xFF, 0xF0, 0xF6, 0xF6, 0xF7, 0xFF, 0xF0, 0xFE, 0xFE, 0xF1, 0xFF, 0xFF, 0xFE, 0xF1,
0xFE, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xF8, 0xF7, 0xF7, 0xF7, 0xFF, 0xFF, 0xFE, 0xF1, 0xFE, 0xFF,
0xFF, 0xF8, 0xF7, 0xF7, 0xF7, 0xFF, 0xF0, 0xF7, 0xF7, 0xF7, 0xFF, 0xF0, 0xF6, 0xF6, 0xF7, 0xFF,
0xFB, 0xF6, 0xF6, 0xF9, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
};
for(j=0;j<256;j++,i++){
	Current_Screen[i]=bc_main_bitmap[j];
}
};

//
//*********************************************************************************************
//Function Name    : void bc_0k(unsigned int i)
//No.Of Parameters : 1
//Parameters Type  : unsigned int
//Return Type      : void
//Description      : To get bitmap of the BR 0k bitmap(500 cycles)
//**********************************************************************************************
//
void bc_0k(unsigned int i){
	Uint8 j;
	//
	//  Bitmap of the 1k screen 
	//
const Uint8 bc_0k_bitmap[256]={
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x20, 0x20, 0xC0, 0x00, 0xC0, 0x20, 0x20,
	0xC0, 0x00, 0x00, 0x80, 0x40, 0xE0, 0x00, 0xC0, 0x20, 0x20, 0xC0, 0x00, 0xC0, 0x20, 0x20, 0xC0,
	0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0xC0, 0x20, 0x20, 0xC0, 0x00, 0xE0, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xE0, 0x20, 0x20, 0x20, 0x00,
	0xC0, 0x20, 0x20, 0xC0, 0x00, 0xC0, 0x20, 0x20, 0xC0, 0x00, 0xC0, 0x20, 0x20, 0x20, 0x00, 0xE0,
	0x00, 0x00, 0x00, 0xE0, 0x00, 0xC0, 0x20, 0x20, 0x20, 0x00, 0xE0, 0x00, 0x00, 0x00, 0x00, 0xE0,
	0x20, 0x20, 0x20, 0x00, 0xC0, 0x20, 0x20, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0C, 0x0A, 0x09, 0x08, 0x00, 0x07, 0x0A, 0x09,
	0x07, 0x00, 0x03, 0x02, 0x02, 0x0F, 0x00, 0x07, 0x0A, 0x09, 0x07, 0x00, 0x07, 0x0A, 0x09, 0x07,
	0x00, 0x00, 0x0F, 0x00, 0x0F, 0x00, 0x0F, 0x00, 0x0F, 0x01, 0x01, 0x0F, 0x00, 0x0F, 0x01, 0x01,
	0x0F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x09, 0x09, 0x06, 0x00,
	0x07, 0x0A, 0x09, 0x07, 0x00, 0x07, 0x0A, 0x09, 0x07, 0x00, 0x07, 0x08, 0x08, 0x08, 0x00, 0x00,
	0x01, 0x0E, 0x01, 0x00, 0x00, 0x07, 0x08, 0x08, 0x08, 0x00, 0x0F, 0x08, 0x08, 0x08, 0x00, 0x0F,
	0x09, 0x09, 0x08, 0x00, 0x04, 0x09, 0x09, 0x06, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	};
	for(j=0;j<256;j++,i++){
	Current_Screen[i]=bc_0k_bitmap[j];
}
}

//
//*********************************************************************************************
//Function Name    : void br_1k(unsigned int i)
//No.Of Parameters : 1
//Parameters Type  : unsigned int
//Return Type      : void
//Description      : To get bitmap of the BR 1k bitmap(1000 cycles)
//**********************************************************************************************
//
void bc_1k(unsigned int i){
Uint8 j;
//
//  Bitmap of the 1k screen
//
const Uint8 bc_1k_bitmap[256]={
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x7F, 0xBF, 0x1F, 0xFF, 0xFF, 0x3F, 0xDF, 0xDF,
	0x3F, 0xFF, 0xBF, 0xDF, 0xDF, 0x3F, 0xFF, 0x3F, 0xDF, 0xDF, 0xFF, 0xFF, 0x3F, 0xDF, 0xDF, 0x3F,
	0xFF, 0xFF, 0x7F, 0x7F, 0x7F, 0x7F, 0xFF, 0xFF, 0x3F, 0xDF, 0xDF, 0x3F, 0xFF, 0x1F, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x7F, 0xBF, 0x1F, 0xFF, 0xFF, 0x3F, 0xDF, 0xDF, 0x3F, 0xFF,
	0x3F, 0xDF, 0xDF, 0x3F, 0xFF, 0x3F, 0xDF, 0xDF, 0x3F, 0xFF, 0x3F, 0xDF, 0xDF, 0xDF, 0xFF, 0x1F,
	0xFF, 0xFF, 0xFF, 0x1F, 0xFF, 0x3F, 0xDF, 0xDF, 0xDF, 0xFF, 0x1F, 0xFF, 0xFF, 0xFF, 0xFF, 0x1F,
	0xDF, 0xDF, 0xDF, 0xFF, 0x3F, 0xDF, 0xDF, 0xBF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xF7, 0xF0, 0xF7, 0xFF, 0xF9, 0xF6, 0xF6,
	0xF9, 0xFF, 0xFB, 0xF7, 0xF6, 0xF9, 0xFF, 0xF8, 0xF6, 0xF6, 0xF9, 0xFF, 0xF8, 0xF5, 0xF6, 0xF8,
	0xFF, 0xFF, 0xF0, 0xFF, 0xF0, 0xFF, 0xF0, 0xFF, 0xF0, 0xFE, 0xFE, 0xF0, 0xFF, 0xF0, 0xFE, 0xFE,
	0xF0, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xF7, 0xF0, 0xF7, 0xFF, 0xF8, 0xF5, 0xF6, 0xF8, 0xFF,
	0xF8, 0xF5, 0xF6, 0xF8, 0xFF, 0xF8, 0xF5, 0xF6, 0xF8, 0xFF, 0xF8, 0xF7, 0xF7, 0xF7, 0xFF, 0xFF,
	0xFE, 0xF1, 0xFE, 0xFF, 0xFF, 0xF8, 0xF7, 0xF7, 0xF7, 0xFF, 0xF0, 0xF7, 0xF7, 0xF7, 0xFF, 0xF0,
	0xF6, 0xF6, 0xF7, 0xFF, 0xFB, 0xF6, 0xF6, 0xF9, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF	
	};
if(Get_BC_Screen_val()==0x01){
	for(j=0;j<256;j++,i++)
	Current_Screen[i]=Byte_Invert(bc_1k_bitmap[j]);
}else{
    for(j=0;j<256;j++,i++)
    Current_Screen[i]=bc_1k_bitmap[j];
}
}

//
//*********************************************************************************************
//Function Name    : void bc_2k(unsigned int i)
//No.Of Parameters : 1
//Parameters Type  : unsigned int
//Return Type      : void
//Description      : To get bitmap of the BR 2k bitmap(2000 cycles)
//**********************************************************************************************
//

void bc_2k(unsigned int i){
	Uint8 j;
	//
	//  Bitmap of the 3k screen
	//
	const Uint8 bc_2k_bitmap[]={
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x7F, 0xBF, 0x1F, 0xFF, 0xFF, 0x3F, 0xDF, 0xDF,
	0xFF, 0xFF, 0xBF, 0xDF, 0xDF, 0x3F, 0xFF, 0xBF, 0xDF, 0xDF, 0x3F, 0xFF, 0x3F, 0xDF, 0xDF, 0x3F,
	0xFF, 0xFF, 0x7F, 0x7F, 0x7F, 0x7F, 0xBF, 0xFF, 0x3F, 0xDF, 0xDF, 0x3F, 0xFF, 0x1F, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xBF, 0xDF, 0xDF, 0x3F, 0xFF, 0x3F, 0xDF, 0xDF, 0x3F, 0xFF,
	0x3F, 0xDF, 0xDF, 0x3F, 0xFF, 0x3F, 0xDF, 0xDF, 0x3F, 0xFF, 0x3F, 0xDF, 0xDF, 0xDF, 0xFF, 0x1F,
	0xFF, 0xFF, 0xFF, 0x1F, 0xFF, 0x3F, 0xDF, 0xDF, 0xDF, 0xFF, 0x1F, 0xFF, 0xFF, 0xFF, 0xFF, 0x1F,
	0xDF, 0xDF, 0xDF, 0xFF, 0x3F, 0xDF, 0xDF, 0xBF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xF7, 0xF0, 0xF7, 0xFF, 0xF8, 0xF6, 0xF6,
	0xF9, 0xFF, 0xFB, 0xF7, 0xF6, 0xF9, 0xFF, 0xF3, 0xF5, 0xF6, 0xF7, 0xFF, 0xF8, 0xF5, 0xF6, 0xF8,
	0xFF, 0xFF, 0xF0, 0xFF, 0xF0, 0xFF, 0xF0, 0xFF, 0xF0, 0xFE, 0xFE, 0xF0, 0xFF, 0xF0, 0xFE, 0xFE,
	0xF0, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xF3, 0xF5, 0xF6, 0xF7, 0xFF, 0xF8, 0xF5, 0xF6, 0xF8, 0xFF,
	0xF8, 0xF5, 0xF6, 0xF8, 0xFF, 0xF8, 0xF5, 0xF6, 0xF8, 0xFF, 0xF8, 0xF7, 0xF7, 0xF7, 0xFF, 0xFF,
	0xFE, 0xF1, 0xFE, 0xFF, 0xFF, 0xF8, 0xF7, 0xF7, 0xF7, 0xFF, 0xF0, 0xF7, 0xF7, 0xF7, 0xFF, 0xF0,
	0xF6, 0xF6, 0xF7, 0xFF, 0xFB, 0xF6, 0xF6, 0xF9, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
	};

	if(Get_BC_Screen_val()==0x02){
	    for(j=0;j<256;j++,i++)
	    Current_Screen[i]=Byte_Invert(bc_2k_bitmap[j]);
	}else{
	    for(j=0;j<256;j++,i++)
	        Current_Screen[i]=bc_2k_bitmap[j];
	}
}

//
//*********************************************************************************************
//Function Name    : void bc_back(unsigned int i)
//No.Of Parameters : 1
//Parameters Type  : unsigned int
//Return Type      : void
//Description      : To get bitmap of the Back Bitmap
//**********************************************************************************************
//

void bc_back(unsigned int i){
	Uint8 j;
	//
	// Bitmap of the back screen 
	//
    const Uint8 bc_back_bitmap[]={
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x0F, 0x6F, 0x6F, 0x9F, 0xFF, 0x1F, 0x6F, 0x6F,
	0x1F, 0xFF, 0x1F, 0xEF, 0xEF, 0xEF, 0xFF, 0x0F, 0x7F, 0xBF, 0xCF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xF8, 0xFB, 0xFB, 0xFC, 0xFF, 0xF8, 0xFF, 0xFF,
	0xF8, 0xFF, 0xFC, 0xFB, 0xFB, 0xFB, 0xFF, 0xF8, 0xFF, 0xFE, 0xF9, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
	};

	if(Get_BC_Screen_val()==0x03){
	        for(j=0;j<256;j++,i++)
	        Current_Screen[i]=Byte_Invert(bc_back_bitmap[j]);
	}else{
	        for(j=0;j<256;j++,i++)
	            Current_Screen[i]=bc_back_bitmap[j];
	}
}
//
//*********************************************************************************************
//Function Name    : void br_blank(unsigned int i)
//No.Of Parameters : 1
//Parameters Type  : unsigned int
//Return Type      : void
//Description      : To get bitmap of the Blank bitmap
//**********************************************************************************************
//
void BC_blank(unsigned int i){
    Uint8 j;
    for(j=0;j<256;j++,i++){
        Current_Screen[i]=0xFF;
    }
}
//
//*********************************************************************************************
//Function Name    : Uint8* BC_screenmap()
//No.Of Parameters : 0
//Parameters Type  : void
//Return Type      : Uint8*
//Description      : To get bitmap of the BC screen
//**********************************************************************************************
//
Uint8* BC_screenmap(){
	Current_Screen_ptr=&Current_Screen[0];
	bc_main(0);
	switch(Get_BC_Screen_val()){
		case 0x01:{
		bc_1k(256);
       	bc_2k(512);
		bc_back(768);
		break;	
		}
		case 0x02:{
		bc_2k(256);
		bc_back(512);
		BC_blank(768);
		break;		
		}
		case 0x03:{
		bc_back(256);
        BC_blank(512);
		BC_blank(768);
		break;		
		}
		default:{
	    bc_0k(256);
		bc_1k(512);
       	bc_2k(768);
		break;	
		}
	}
	return Current_Screen_ptr;
}


